"0","library(readxl)"
"0","library(dplyr)"
"0","library(tidyverse)"
"0","library(lubridate)"
"0","library(finalfit)"
"0","library(gtsummary)"
"0","library(broom)"
"0","library(magrittr)"
"0","library(epiR)"
"0","library(survival)"
"0","library(survminer)"
"0","library(finalfit)"
"0","library(flextable)"
"0","library(here)"
"0",""
"0","# Reading the data from the excel file with skippinng first row as it contains unneeded organization "
"0","ISP_block_data <- read_excel(path = here(""Project-1-data copy.xlsx""), skip = 1)"
"0",""
"0","# Renaming columns to names shorter, representative and more easy to deal with "
"0","ISP_block_data <- ISP_block_data %>% rename(time_of_peth_post_opt_min = `time of pethidine post operative (min)`,"
"0","                          first_dose_peth_post_opt_mg = `first dose of pethidine post operative (mg)`,"
"0","                          total_peth_post_opt_mg = `total of pethidine post operative (mg)`,"
"0","                          intra_opt_fentanyl_consump_mic = `intra oprative fentanyl consumption (mic)`)"
"0",""
"0","# Removing extra spaces in front and back of the column values "
"0","ISP_block_data$group <- ISP_block_data$group %>% str_trim()"
"0",""
"0","# Removing text present with values of columns that should only include numeric data "
"0","ISP_block_data$first_dose_peth_post_opt_mg <- ISP_block_data$first_dose_peth_post_opt_mg %>% str_remove(""mg"") %>% str_trim()"
"0","ISP_block_data$total_peth_post_opt_mg <- ISP_block_data$total_peth_post_opt_mg %>% str_remove(""mg"") %>% str_trim()"
"0","ISP_block_data$intra_opt_fentanyl_consump_mic <- ISP_block_data$intra_opt_fentanyl_consump_mic %>% str_remove(""mic"") %>% str_trim()"
"0",""
"0","# Coding columns to be factors and setting up codes as needed"
"0","ISP_block_data$sex <- factor(ISP_block_data$sex) %>% fct_recode(""Female"" = ""0"", ""Male"" = ""1"")"
"0","ISP_block_data$group <- factor(ISP_block_data$group) %>% fct_recode("
"0","  ""Control group"" = ""control group"", ""ISSP Block group"" = ""ISSP block"""
"0",")"
"0",""
"0","# Removing extra spaces in front and back of the column values "
"0","ISP_block_data$group <- ISP_block_data$group %>% str_trim()"
"0",""
"0","# Coding columns to be factors and setting up codes as needed"
"0",""
"0","ISP_block_data <- ISP_block_data %>% mutate(across(""patient satisification"", ~ fct_recode(as.factor(.x),"
"0","                                                                        ""satisfied"" = ""3"","
"0","                                                                        ""fair"" = ""2"", "
"0","                                                                        ""dissatisfied"" = ""1"")))"
"0",""
"0","ISP_block_data$`surgeon satisification` <- ISP_block_data$`surgeon satisification` %>% factor() %>% fct_recode("
"0","  ""very good"" = ""5"","
"0","  ""good"" = ""4"","
"0","  ""fair"" = ""3"","
"0","  ""not bad"" = ""2"","
"0","  ""dissatisfied"" = ""1"""
"0",")"
"0",""
"0","ISP_block_data <- ISP_block_data %>% mutate(across(c(""nausea"", ""vomiting"", ""pruritis"", ""others""), ~ factor(.x)))"
"0",""
"0","# Removing extra spaces in all columns of VAS score and Extracting the important numbers we need as values for the column"
"0","ISP_block_data <- ISP_block_data %>% mutate(across(contains(""VAS""), ~ as.numeric(parse_number(trimws(as.character(.x))))))"
"0",""
"0","# Setting a condition with case_when function to unify the time values in time column"
"0","# Detection of wether word minute or hour are present and depending on that we extract the number "
"0","# number extracted would be either converted to minutes or already in minutes time"
"0","ISP_block_data <- ISP_block_data %>% mutate(time_of_peth_post_opt_min = case_when("
"0","  str_detect(time_of_peth_post_opt_min, ""min"") ~ parse_number(time_of_peth_post_opt_min),"
"0","  str_detect(time_of_peth_post_opt_min, ""h"") ~ parse_number(time_of_peth_post_opt_min) * 60,"
"0","  T ~ 0"
"0","))"
"0",""
"0","# Converting values of columns to be numeric as needed "
"0","ISP_block_data <- ISP_block_data %>% mutate(across(c(""first_dose_peth_post_opt_mg"", ""total_peth_post_opt_mg"", ""intra_opt_fentanyl_consump_mic""), "
"0","                                                   ~as.numeric(.x)))"
